
[container]
name = "Steam"

# Internal sd disk
#disk_partuuid = "8f3ca68c-d031-2d41-849c-be5d9602e920"

# external scratch disk
disk_partuuid = "e08214f5-cfc5-4252-afee-505dfcd23808"

# The tool looks up the mount point for disk_partuuid and adds this to the mount location.
# Disks must be mounted separately from azure-contain.
part_subfolder = "containers/steam"

# If root FS is empty or install flag missing, all of these are run as root.
install_setup_cmds = [
  # By default the tarball has a root.x86_64/ folder which we want the contents of placed at {container_root_dir}
  "wget -qO- 'http://mirror.adectra.com/archlinux/iso/2023.05.03/archlinux-bootstrap-x86_64.tar.gz' | tar xvz -C '{container_root_dir}' --strip-components=1",
  
  # Arch will need a good mirror list to install packages with
  "cp /etc/pacman.d/mirrorlist '{container_root_dir}'/etc/pacman.d/mirrorlist",
  "systemd-nspawn -D '{container_root_dir}' pacman-key --init",

  # Now install packages for steam!
  "systemd-nspawn -D '{container_root_dir}' pacman -Sy --noconfirm mesa-utils",

  #"systemd-nspawn -D '{container_root_dir}' pacman-key --init",


]


